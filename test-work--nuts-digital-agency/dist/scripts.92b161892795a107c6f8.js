(()=>{"use strict";function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var t,s=function(){function t(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,t),this.settings={coutShowSlide:s.coutShowSlide||0,countFlipSlide:s.countFlipSlide||0,indentBetweenSlides:s.indentBetweenSlides||0,autoFlip:s.autoFlip||!1,timeAutoFlip:s.timeAutoFlip||0},this.slider=i,this.sliderLine=this.slider.querySelector(".slider__line"),this.sliderSlides=this.slider.querySelectorAll(".slider__slide"),this.sliderBtnPrev=this.slider.querySelector(".slider__btn--prev")||!1,this.sliderBtnNext=this.slider.querySelector(".slider__btn--next")||!1,this.sliderTimeLine=this.slider.querySelector(".slider__time-line")||!1,this.sliderWrapperLine=this.slider.querySelector(".slider__wrapper-line")||!1,this.init=this.init.bind(this),this.setEvents=this.setEvents.bind(this),this.resizeSlider=this.resizeSlider.bind(this),this.setPosition=this.setPosition.bind(this),this.movePrev=this.movePrev.bind(this),this.moveNext=this.moveNext.bind(this),this.swipeStart=this.swipeStart.bind(this),this.swipeEnd=this.swipeEnd.bind(this),this.motionСheck=this.motionСheck.bind(this),this.autoFlip=this.autoFlip.bind(this),this.init(),this.setEvents(),this.settings.autoFlip&&this.autoFlip()}var s,o;return s=t,o=[{key:"init",value:function(){var e=this,i=this.slider.getBoundingClientRect();console.log(i),this.widthBetween=this.settings.indentBetweenSlides/this.settings.coutShowSlide,this.width=i.width,this.valueMove=0,this.autoStart=!0,this.widthSlide=this.width/this.settings.coutShowSlide+this.widthBetween-this.settings.indentBetweenSlides,this.sliderSlides.forEach((function(i,t){i.style.width="".concat(e.widthSlide,"px"),t!==e.sliderSlides.length-1&&(i.style.marginRight="".concat(e.settings.indentBetweenSlides,"px"))}))}},{key:"setEvents",value:function(){var e=this;this.debounceResizeSlider=n(this.resizeSlider,100),window.addEventListener("resize",this.debounceResizeSlider),this.sliderLine.addEventListener("pointerdown",(function(i){e.swipeStart(i),e.settings.autoFlip&&e.autoFlip(i)})),this.sliderBtnPrev&&this.sliderBtnPrev.addEventListener("pointerdown",(function(i){e.settings.autoFlip&&e.autoFlip(i),e.movePrev(i)})),this.sliderBtnNext&&this.sliderBtnNext.addEventListener("pointerdown",(function(i){e.settings.autoFlip&&e.autoFlip(i),e.moveNext(i)}))}},{key:"destroyEvents",value:function(){var e=this;window.removeEventListener("resize",this.debounceResizeSlider),this.sliderLine.removeEventListener("pointerdown",(function(i){e.swipeStart(i),e.settings.autoFlip&&e.autoFlip(i)})),this.sliderBtnPrev.removeEventListener("pointerdown",(function(i){e.settings.autoFlip&&e.autoFlip(i),e.movePrev(i)})),this.sliderBtnNext.removeEventListener("pointerdown",(function(i){e.settings.autoFlip&&e.autoFlip(i),e.moveNext(i)}))}},{key:"resizeSlider",value:function(){this.init()}},{key:"setPosition",value:function(e){this.valueMove=e,this.sliderLine.style.transform="translate3d(".concat(e,"px, 0, 0)")}},{key:"movePrev",value:function(){this.valueMove=this.valueMove+(this.widthSlide+this.settings.indentBetweenSlides)*this.settings.countFlipSlide;var e=this.motionСheck(this.valueMove);this.setPosition(e.valueMove)}},{key:"moveNext",value:function(){this.valueMove=this.valueMove-(this.widthSlide+this.settings.indentBetweenSlides)*this.settings.countFlipSlide;var e=this.motionСheck(this.valueMove);this.setPosition(e.valueMove)}},{key:"swipeStart",value:function(e){this.swipeStartX=e.clientX,window.addEventListener("pointermove",this.swipeEnd)}},{key:"swipeEnd",value:function(e){this.swipeEndX=e.clientX;var i=this.swipeStartX-this.swipeEndX;i>0&&this.moveNext(),i<0&&this.movePrev(),window.removeEventListener("pointermove",this.swipeEnd)}},{key:"motionСheck",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=0,t=-(this.sliderSlides.length-this.settings.coutShowSlide)*(this.widthSlide+this.settings.indentBetweenSlides);return e<=i&&e>=t?{valueMove:e}:e>=i?{valueMove:t}:e<=t?{valueMove:i}:void 0}},{key:"autoFlip",value:function(e){var i=this;e?(clearInterval(this.auto),this.autoStart&&(this.autoStart=!1,this.sliderTimeLine&&this.sliderTimeLine.animate([{width:"100%"},{width:"0"}],{duration:9e3}),setTimeout((function(){i.autoStart=!0,i.settings.autoFlip&&i.autoFlip()}),5e3))):this.auto=setInterval((function(){i.moveNext(),i.sliderTimeLine&&i.sliderTimeLine.animate([{width:"0"},{width:"100%"}],{duration:i.settings.timeAutoFlip})}),this.settings.timeAutoFlip)}}],o&&i(s.prototype,o),t}(),n=function(e,i){var t;return function(){var s=arguments,n=this,o=function(){e.apply(n,s)};clearTimeout(t),t=setTimeout(o,i)}};window.onload=(t=document.querySelector(".slider"),window.matchMedia("(min-width: 767px)").matches&&new s(t,{coutShowSlide:4,countFlipSlide:1,indentBetweenSlides:40,autoFlip:!0,timeAutoFlip:4e3}),window.matchMedia("(max-width: 767px)").matches&&new s(t,{coutShowSlide:2,countFlipSlide:1,indentBetweenSlides:40,autoFlip:!0,timeAutoFlip:4e3}),void(window.matchMedia("(max-width: 421px)").matches&&new s(t,{coutShowSlide:1,countFlipSlide:1,indentBetweenSlides:20,autoFlip:!0,timeAutoFlip:4e3})))})();
//# sourceMappingURL=scripts.92b161892795a107c6f8.js.map